# Adding Life

## Basic Gameplay (D3.a)

I went about adding in some of the basic gameplay functions of this game. So the basics of drawing the map using DrawGrid which handles drawing the map grid along with adding tokens to the map. From there the spawnToken function spawns in the coins and gives each of them a handler for when they are clicked on. Then from there we have the gameplay side of things so the collect function handles collecting and whether or not the intention is to craft. From there if it is crafting then it goes to craftToken which creates a new token with the new value and places that token onto the map where the old token was however with the new value. With the use of various helper functions the code comes together to create the basic gameplay. For my cleanup however I went and looked at useless variables and removed them and then took repeated calls and either made them into helper functions (in the example of tokenCall) or made them global variables if they are called very often (such as playerLocation).

## Map Movement (D3.b)

This time around I added in movement controls so that the player can move about the map to collect tokens. I did this through buttons that I added into the UI that the player can click to move around and then added in functionality so that when the player moves it updates the position and allows tokens to be picked up once they enter into the interactive zone. I also updated map functionality so that when the map is moved around that tokens out of sight get despawned and tokens in frame do spawn however at the current moment it causes crafted tokens to be despawned and the ones already used to craft come back onto the map. But the game at it's current state places the player onto a random spot on the map and causes some map changes such as spots closer to the edges (North or South Pole) causes the boxes to elongate and thus need to be zoomed out to see the full area. For the cleanup this time around, all I really did was get rid of redundant logic and update some of the comments.

## Object Persistence (D3.c)

For this part of the code, honestly there was very little that was actually edited due to the fact that I pretty much already coded it in a way to allow for the cells to have memory. In fact I had to purposely downgrade the code slightly for the last assignment, at least when it came to regards to saving token state. As for what I did exactly, using a Map object that using the key holds the position of the token whereas the other section holds 3 variables, the icon for the token, the value for it, and whether or not it has been collected or not. From there I built the code around that and so when a coin is picked up, it changes that coins state so the icon is removed and anytime the map has to respawn coins, it won't be respawned with everything else. If someone is to scroll off screen all the map really does is remove the icon, not the state of the cell which it will detect and just replace the token if it has existed previously, hasn't been collected or already has an existing marker. As for the clean-up, I made a function for the movement buttons to reduce duplicated code and also removed redundant functions. Come part D, the plan is to be a pretty large clean-up so that is where a lot of alterations I would think would happen.

## Gameplay Across Real-world Space and Time (D3.d)

For the final part of the code I added in the capability to choose between geolocation and movement controls. The geolocation I have it where I use navigator.geolocation.watchPosition to for one, ask the player if they would like to use the geolocation feature as if they don't, then it should place you on a random spot on the globe (I like to call this hard mode since it will do it on every reload so you need to stay on or your location will change). Afterwards if you do accept, it switches to your current location where you can play the game normally. Although the actual tracking is a little touchy, it is quite solid and follows the player around as they move around in the real world as intended. It also has a way if you want to get to a home base of some kind, you can use movement controls to get somewhere and then switch to geolocation to instantly teleport back to your current location. Along with the geolocation features I also allowed for a new game where it will delete all of the data collected in local storage and allow you to restart the game. For the clean-up, I moved some of the repeated code into helper functions, I moved most of the global type constants and variables and grouped them together along with grouping similar functions or functions that effect the same object together. I added more clear and concise section headers to account for navigatability around the coding space. There were also some smaller changes to have less logic hassle but overall the game is running and fully functional.
